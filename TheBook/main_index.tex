
%使用xelatex编译
%版权所有，翻版必究
%本文件由程序自动生成，任何修改将被覆盖
%2019 年 01 月 09 日




%主文档



\documentclass[12pt,hyperref,UTF8]{ctexbook}%使用大号字体

%解决新版latex一些BUG
\let\counterwithout\relax
\let\counterwithin\relax

%@P143
\usepackage{xcolor}        %导入包xcolor
\usepackage[
a4paper ,
left=3.0cm,                %靠近装订线的边距
right=3.0cm,               %远离装订线的边距
top=2.0cm,
bottom=2.0cm,
headheight=1.3cm,
headsep=0.5cm,
marginparsep=0.8cm,        %边注与内容边距
marginparwidth=2.1cm       %边注宽度
]{geometry}                %导入包geometry

%引入边注包
\usepackage{marginnote}

 %导入常用包
\usepackage{graphicx}
\usepackage{float}
\usepackage{amsmath}
\usepackage{cite}
\usepackage{caption}
\usepackage{titlesec}
\usepackage{chngcntr}
\usepackage{setspace}
\usepackage{tocbibind}  %设置目录
\usepackage{tocloft}
\usepackage{multicol}
\usepackage{listings}   %引入程序代码
\usepackage{varwidth}   %P125

%%常见符号
\usepackage{wasysym}    %
\usepackage{textcomp}   %
\usepackage{pifont}     %

\usepackage{color}
\definecolor{colorbackgroundthisproject}{rgb}{1,1,1} %页面背景颜色
\definecolor{colortextthisproject}{rgb}{0,0,0}       %文字颜色
%设置页面颜色
\pagecolor{colorbackgroundthisproject}
%设置字体颜色
\color{colortextthisproject}

\usepackage{xhfill}
%\usepackage{times} do not use this pack ...

\usepackage{placeins}

%设置输出pdf格式
\usepackage[
    colorlinks=true ,
    %bookmarks=true,
    %bookmarksopen=false,
    %pdfpagemode=FullScreen,
    %pdfstartview=Fit,
    bookmarksnumbered=true,
    pdftitle={Qml} ,       %标题
    pdfauthor={Qml} ,      %作者
    pdfsubject={Qml} ,     %主题
    pdfkeywords={Qml} ,    %关键字
    linkcolor=colortextthisproject ,
    anchorcolor=colortextthisproject ,
    citecolor=colortextthisproject ,
    urlcolor=colortextthisproject
]{hyperref}

\usepackage{fontspec}
\definecolor{sourcegrayone}{rgb}{0.95,0.95,0.96}  %源代码背景颜色
\newfontfamily\sourcefontone{Consolas}            %源代码字体
\newfontfamily\sourcefontthree{DejaVu Sans Mono}  %源代码字体
%sudo apt-get install ttf-mscorefonts-installer   %linux安装字体
\newfontfamily\sourcefonttwo{Times New Roman}     %正文特殊符号字体

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setmainfont{Times New Roman}
\setsansfont{DejaVu Sans}
\setmonofont{Latin Modern Mono}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%源代码默认样式
\lstset{
language=C,
breaklines=true,
basicstyle=     \scriptsize\sourcefontthree        , %设置字号，字体
stringstyle=    \scriptsize\sourcefontthree        , %设置字号，字体
keywordstyle=   \scriptsize\sourcefontthree        , %设置字号，字体
commentstyle=   \scriptsize\sourcefontthree        , %设置字号，字体
identifierstyle=\scriptsize\sourcefontthree        , %设置字号，字体
numbers=left,
numbersep=0.5em,
numberstyle=    \scriptsize\slshape\sourcefontone  , %设置字号，字体
frame=single,
backgroundcolor=\color{sourcegrayone},
showstringspaces=false
}
%\ifoddpage \lstset{numbers=left} \else \lstset{numbers=right}
\usepackage{changepage}    %判断奇数页偶数页

%设置item样式......
\usepackage{enumitem}
\setenumerate[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
\setitemize[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}
\setdescription{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt}


%设置常量
\title{Qt Quick全面导引}                              %书籍名称
\author{Good Luck}                                   %作者名

%设置ctex
%@P135
\CTEXsetup[ number={ \arabic{chapter} } ]{chapter}
%\CTEXsetup[ number={ \arabic{section} } , name={第,节} ]{section}

\newenvironment{littlelongworld}
{ \\ }
{ \\ }

%设置路径计数器
\newcommand\treeindexnumbernameone{路径}
%\newcommand\theTreeIndexNumber{}
\newcounter{treeindexnumber}[section]
%\stepcounter{treeindexnumber}
%\refstepcounter{treeindexnumber}
\renewcommand\thetreeindexnumber{
    \thesection.\arabic{treeindexnumber}
}

%设置命令计数器
\newcommand\commandnumbernameone{命令}
\newcounter{commandnumber}[section]
\renewcommand\thecommandnumber{
    \thesection.\arabic{commandnumber}
}

%设置源码计数器
\newcommand\filesourcenumbernameone{源码}
\newcounter{filesourcenumber}[section]
\renewcommand\thefilesourcenumber{
    \thesection.\arabic{filesourcenumber}
}

%设置图片计数器
\counterwithin{figure}{section}
\renewcommand\thefigure{
    \thesection.\arabic{figure}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%解决目录字体重叠BUG
\makeatletter
\renewcommand{\numberline}[1]{%
\settowidth\@tempdimb{#1\hspace{0.5em}}%
\ifdim\@tempdima<\@tempdimb%
\@tempdima=\@tempdimb%
\fi%
\hb@xt@\@tempdima{\@cftbsnum #1\@cftasnum\hfil}\@cftasnumb}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\lstnewenvironment{thebookfilesourceone}[1][]{
%begin env ...
    \lstset{#1}
}{
%end env ...
}

\lstnewenvironment{thebookfilesourceonepathtree}[1][]{
%begin env ...
    \lstset{#1}
}{
%end env ...
}

%命令行环境
\lstnewenvironment{thebookfilesourceonecommand}[1][]{
%begin env ...
    \lstset{
basicstyle=     \scriptsize\itshape\sourcefontone        , %设置字号，字体
stringstyle=    \scriptsize\itshape\sourcefontone        , %设置字号，字体
keywordstyle=   \scriptsize\itshape\sourcefontone        , %设置字号，字体
commentstyle=   \scriptsize\itshape\sourcefontone        , %设置字号，字体
identifierstyle=\scriptsize\itshape\sourcefontone        , %设置字号，字体
#1 }
}{
%end env ...
}


\begin{document}

%设置源码计数器
\counterwithin{lstlisting}{section}
\renewcommand\thelstlisting{
    \thesection.\arabic{lstlisting}
}
\renewcommand\lstlistingname{源码}

%设置标点挤压模式
\punctstyle{banjiao}

\frontmatter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{empty}                 %关闭页眉页脚
\maketitle                        %生成封面
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\pagestyle{headings}              %开启页眉页脚
\pagenumbering{roman}             %重新开始页码编号
\setcounter{tocdepth}{4}          %设置目录深度
\setcounter{secnumdepth}{4}       %设置编号深度
\tableofcontents                  %生成目录
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mainmatter
%
%    arabic - 阿拉伯数字
%    roman  - 小写的罗马数字
%    Roman  - 大写的罗马数字
%    alph   - 小写的字符形式
%    Alph   - 大写的字符形式
%
\pagenumbering{arabic}           %重新开始页码编号
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{foreword/foreword.tex}     %前言
\input{chapter01/chapter01.tex}   %第一章
\input{chapter02/chapter02.tex}   %第二章
\input{chapter03/chapter03.tex}   %第三章
\input{chapter04/chapter04.tex}   %第四章
\input{chapter05/chapter05.tex}   %第五章
\input{chapter06/chapter06.tex}   %第六章
\input{chapter07/chapter07.tex}   %第七章
\input{chapter08/chapter08.tex}   %第八章
\input{chapter09/chapter09.tex}   %第九章
\input{chapter10/chapter10.tex}   %第十章

\backmatter
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}

%http://www.ctex.org/documents/latex/graphics/node2.html











%使用xelatex编译
%版权所有，翻版必究
%本文件由程序自动生成，任何修改将被覆盖
%2019 年 01 月 09 日



